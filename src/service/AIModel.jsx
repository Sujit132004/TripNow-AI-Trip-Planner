import {GoogleGenerativeAI,} from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location:Las Vegas for 3 Days for Couple with a Cheap budget, Give me a Hotels options with HotelName,Hotel address,Price,hotel image url,geo coordinates,rating,descriptions and suggest descriptions and suggest itinerary with place/Name,Place Details,Place Image Url,Geo Coordinates,ticket Pricing,rating,Time travel each of the location for 3 days with each day plan with best time to visit in JSON format "},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON format travel plan for a couple on a cheap budget in Las Vegas for 3 days, including hotel options and a detailed itinerary.\n\n```json\n{\n  \"tripTitle\": \"Las Vegas on a Budget: 3-Day Couple's Getaway\",\n    \"budget\":\"Cheap\",\n  \"travelers\": \"Couple\",\n  \"duration\": \"3 Days\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80/night\",\n      \"hotelImageUrl\": \"https://example.com/circuscircus.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1441,\n        \"longitude\": -115.1698\n      },\n      \"rating\": 3.5,\n       \"descriptions\": \"A classic Vegas option with affordable rooms and a fun, circus-themed atmosphere. Great for budget travelers and families.\"\n    },\n    {\n      \"hotelName\": \"Strat Hotel, Casino & Skypod\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$50 - $90/night\",\n      \"hotelImageUrl\": \"https://example.com/strat.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1501,\n        \"longitude\": -115.1557\n      },\n      \"rating\": 4.0,\n         \"descriptions\":\"Offers affordable rooms with access to the SkyPod's amazing views. A bit off the main Strip, but easily accessible.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$60 - $100/night\",\n      \"hotelImageUrl\": \"https://example.com/excalibur.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0981,\n        \"longitude\": -115.1726\n      },\n      \"rating\": 3.8,\n           \"descriptions\":\"A medieval-themed hotel with budget-friendly rooms and plenty of entertainment options. Located at the southern end of the Strip.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip & Free Attractions\",\n       \"bestTimeToVisit\": \"Morning and Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"Free indoor botanical garden with seasonal displays. A must-see for its beauty and tranquility.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_garden.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n           \"timeTravel\": \"Walking distance from many Strip hotels\"\n        },\n        {\n           \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Free synchronized water show with music and lights. Best viewed in the evening.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_fountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1125,\n             \"longitude\": -115.1745\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n           \"timeTravel\":\"Walking distance from the Bellagio Conservatory\"\n        },\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"Open-air entertainment district with shops, restaurants, and the High Roller observation wheel. Fun for strolling and people-watching.\",\n           \"placeImageUrl\": \"https://example.com/linq_promenade.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1163,\n            \"longitude\": -115.1695\n          },\n         \"ticketPricing\": \"Free (costs for High Roller & other attractions)\",\n         \"rating\": 4.4,\n           \"timeTravel\": \"Walking distance from Bellagio, short monorail ride\"\n\n        },\n        {\n            \"placeName\": \"Fremont Street Experience\",\n           \"placeDetails\": \"Downtown pedestrian mall with a vibrant light show, street performers, and vintage Vegas vibes.\",\n           \"placeImageUrl\": \"https://example.com/fremontstreet.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\": 36.1701,\n              \"longitude\": -115.1400\n             },\n           \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n           \"timeTravel\": \"Taxi/Ride Share or bus from the Strip (about 15-20 minutes)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Affordable Entertainment & Cultural Bites\",\n       \"bestTimeToVisit\":\"Daytime and Evening\",\n      \"places\": [\n       {\n           \"placeName\":\"Seven Magic Mountains\",\n           \"placeDetails\":\"A public art installation featuring seven colorful, towering rock sculptures. Great for photos and a unique desert experience.\",\n           \"placeImageUrl\":\"https://example.com/sevenmagicmountains.jpg\",\n            \"geoCoordinates\":{\n             \"latitude\":35.9693,\n              \"longitude\":-115.2259\n             },\n            \"ticketPricing\":\"Free\",\n            \"rating\":4.5,\n            \"timeTravel\":\"Drive/Ride Share from the Strip (about 30 minutes)\"\n\n          },\n       {\n          \"placeName\": \"Mirage Volcano\",\n           \"placeDetails\":\"Free volcano eruption show with fire and water effects. A classic Vegas spectacle.\",\n            \"placeImageUrl\":\"https://example.com/mirage_volcano.jpg\",\n            \"geoCoordinates\":{\n             \"latitude\":36.1206,\n               \"longitude\": -115.1742\n            },\n           \"ticketPricing\":\"Free\",\n            \"rating\":4.7,\n            \"timeTravel\":\"Short walk from the LINQ or other Strip locations\"\n        },\n\n         {\n           \"placeName\": \"Eiffel Tower Viewing Deck at Paris Las Vegas\",\n          \"placeDetails\":\"Observation deck with panoramic views of the Las Vegas Strip. A smaller-scale but similar experience to the High Roller, often at a lower cost.\",\n           \"placeImageUrl\":\"https://example.com/eiffeltowerlv.jpg\",\n            \"geoCoordinates\":{\n              \"latitude\":36.1108,\n               \"longitude\":-115.1715\n             },\n            \"ticketPricing\":\"$20-25 per person\",\n            \"rating\":4.6,\n             \"timeTravel\":\"Walk or short taxi ride from other locations on the Strip\"\n         },\n         {\n            \"placeName\":\"Eat at an Affordable Buffet\",\n            \"placeDetails\":\"Many casinos offer budget-friendly buffet options. Check for weekday lunch deals.\",\n             \"placeImageUrl\":\"https://example.com/buffet.jpg\",\n             \"geoCoordinates\":{\n               \"latitude\":36.1146,\n              \"longitude\":-115.1728\n             },\n            \"ticketPricing\":\"$25-35 per person\",\n            \"rating\":4.0,\n             \"timeTravel\": \"Various locations, choose one near other planned activities\"\n         }\n\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Unique Experiences & Departure\",\n       \"bestTimeToVisit\":\"Morning and Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"The Neon Museum\",\n           \"placeDetails\":\"Outdoor museum with vintage Las Vegas signs. A great photo opportunity and a glimpse into the city's history.\",\n           \"placeImageUrl\":\"https://example.com/neonmuseum.jpg\",\n           \"geoCoordinates\":{\n             \"latitude\":36.1616,\n             \"longitude\":-115.1478\n           },\n           \"ticketPricing\":\"$20-30 per person\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"Ride Share or bus from the Strip (approx. 15 minutes)\"\n        },\n         {\n          \"placeName\": \"M&M's World or Coca-Cola Store\",\n           \"placeDetails\": \"Fun and free retail stores on the Strip with colorful displays and merchandise. Good for a quick stop and some free photo opportunities.\",\n           \"placeImageUrl\":\"https://example.com/mmsworld.jpg\",\n           \"geoCoordinates\":{\n             \"latitude\":36.1067,\n             \"longitude\": -115.1702\n           },\n          \"ticketPricing\":\"Free (costs for purchases)\",\n          \"rating\": 4.2,\n          \"timeTravel\":\"Walk from the Eiffel Tower or other central Strip locations\"\n        },\n        {\n          \"placeName\":\"High Roller Observation Wheel (Optional/If on sale)\",\n          \"placeDetails\":\"A large observation wheel for panoramic views. Look for discounts.\",\n          \"placeImageUrl\":\"https://example.com/highroller.jpg\",\n           \"geoCoordinates\":{\n             \"latitude\":36.1156,\n             \"longitude\":-115.1692\n           },\n          \"ticketPricing\":\"$25-35 per person (check for deals)\",\n          \"rating\": 4.5,\n           \"timeTravel\":\"Located on the LINQ Promenade, easily accessible from the Strip\"\n\n        },\n        {\n          \"placeName\": \"Relax and Enjoy the Hotel Amenities or Pool\",\n           \"placeDetails\":\"Take time to relax at your hotel, use the pool, and enjoy some downtime before your departure.\",\n           \"placeImageUrl\":\"https://example.com/hotelpool.jpg\",\n           \"geoCoordinates\":{\n             \"latitude\":0,\n             \"longitude\":0\n           },\n            \"ticketPricing\":\"Free (included with hotel)\",\n            \"rating\":4.0,\n            \"timeTravel\":\"N/A, at your hotel\"\n        }\n\n      ]\n    }\n  }\n}\n```\n**Notes:**\n*   **Hotel Prices:** Hotel prices can fluctuate. Check for deals and book in advance.\n*   **Ticket Prices:** Prices for attractions are estimates and may vary. Always check official websites for current pricing and discounts.\n*   **Food:** To keep costs down, consider eating at affordable buffets, grabbing quick bites at food courts, or taking advantage of hotel food deals.\n*   **Transportation:** Walking the Strip is often free and the best way to explore. Consider ride-sharing or buses for longer distances, especially downtown. Monorail can save time but can get costly.\n*   **Free Activities:** Many attractions in Vegas are free, such as the Bellagio Fountains, the botanical gardens, and the Fremont Street Experience.\n\n*   **Image URLs:**  The `hotelImageUrl` and `placeImageUrl` fields are placeholders using `https://example.com/...`. You should replace these with actual image URLs.\n*   **Flexibility:** This itinerary can be adjusted based on your interests and time constraints.  The time travel is an estimate and would vary based on travel mode and traffic.\n*  **GeoCoordinates:** The geo coordinates are for general purposes , actual places coordinates might slightly differ\n\nThis plan aims to provide a memorable Vegas experience without breaking the bank. Enjoy your trip!\n"},
          ],
        },
      ],
    });
  

